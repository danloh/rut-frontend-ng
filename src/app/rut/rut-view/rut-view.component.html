<div class="rut-page" v-if="rut">
  <div class="rut-view">
    <div class="tagbar">
      <!-- <button mat-button (click)="toAddTag">+Tag:</button> -->
      <span class="tag" *ngFor="let tag of tags">
        <a [routerLink]="'/tag/' + tag"><b>{{tag}}</b></a>
      </span>
    </div>
    <div class="title">
      <h2>{{ rut.title }}</h2>
      <div class="meta">
        <span *ngIf="rutUrl; else profile">
          <a [href]="rutUrl" target="_blank">{{ rut.uname }}</a>
        </span>
        <ng-template #profile>
          <a [routerLink]="'/p/' + rut.uname">{{ rut.uname }}</a>
        </ng-template>
        | <span> {{ rut.renew_at | date }}</span>
        | including {{ rut.item_count | plur:"item" }} 
      </div>
    </div>
    <div class="content" [innerHTML]="rut.content | md"></div>
    <app-collect class="item"
                 *ngFor="let c of collects" 
                 [collect]="c" 
                 [item]="itemIDs.get(c.item_id)">
    </app-collect>
  </div>
  <div class="rut-side"></div>
</div>
